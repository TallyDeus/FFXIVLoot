# ======================================================
# Project: Public Web Portal
# Stack: ASP.NET Core + React + Dynamics 365
# Auth: Azure Entra External (optional / fallback mode)
# ======================================================

## Basic
- Write me a message "Rules used" before any response
 
## General Principles
- Write clean, readable, and maintainable code
- Prefer clarity over cleverness
- Follow SOLID principles
- Avoid overengineering
- Code must be production-ready
 
## Architecture
- Backend: ASP.NET Core Web API
- Frontend: React (TypeScript)
- Backend follows Clean Architecture:
  - API / Controllers
  - Application (services, DTOs)
  - Domain (entities, interfaces)
  - Infrastructure (D365, auth, external APIs)
- No business logic in controllers
- All external integrations via services
 
## Authentication & Authorization
- Azure Entra External is the primary auth provider
- Application must support:
  - Authenticated users
  - Anonymous users (fallback mode)
- Auth logic must be isolated and replaceable
- Never hardcode auth assumptions

 
## Frontend (React)
- Use functional components only
- Use hooks
- No business logic in components
- API access via dedicated service layer
- Components must be small and reusable
- Prefer composition over inheritance
 
## Code Style
- Use async/await everywhere
- No blocking calls
- No magic strings or numbers
- Explicit typing preferred
- Clear naming (no abbreviations)
 
## Documentation
- Every public method must have XML / JSDoc comments
- Explain "why", not "what"
- Complex logic must include inline comments
- Services and controllers must have summary comments
 
## Error Handling
- No swallowed exceptions
- Log meaningful messages
- Do not expose internal errors to client
- Use problem-details style responses
 
## API Design
- RESTful conventions
- DTOs for requests and responses
- Versioning-ready structure
- Consistent response format
 
## AI Behavior Rules
- Do NOT change public APIs unless asked
- Do NOT introduce new libraries without asking
- Prefer minimal, clean implementations
- Always explain reasoning when changing architecture